// run batch email sends from here
// max 500 per batch
const dotenv = require("dotenv");
const { ServerClient } = require("postmark");

dotenv.config();

// TESTING
// const emails = ["thomasli2025@gmail.com"]

// INCOMPLETE
// const emails = ["1556316@fcpsschools.net","1624538@fcpsschools.net","1631347@fcpsschools.net","1662636@fcpsschools.net","1690786@fcpsschools.net","1703182@fcpsschools.net","1772326@fcpsschools.net","1906382@fcpsschools.net","1921386@fcpsschools.net","2027sjain@tjhsst.edu","aaron.aquarian10@gmail.com","adhyajay0@gmail.com","aidanbarbosa1@outlook.com","ajay.yadlapalli@gwmail.gwu.edu","aklankcool@gmail.com","alex.lopatin01@gmail.com","amyebah.x@gmail.com","andradekate1776@gmail.com","andrewgao100@gmail.com","anish.talla99@gmail.com","arinzeagwuna@gmail.com","ashwathreddymuppa@gmail.com","averagehdip2020@gmail.com","bobbyf8642@gmail.com","capi_nemoo@protonmail.com","chat.arjunc@gmail.com","chiangjack443@gmail.com","chithanh08dgs@gmail.com","connorcourtney1101@gmail.com","cp173888@gmail.com","d.shah@gwmail.gwu.edu","deeptipatil033@gmail.com","devnandans@outlook.com","diyajr2008@gmail.com","ekarim530@gmail.com","fonseca.diego.feeshy@gmail.com","funkyjman07@gmail.com","goldenderpydude2.0@gmail.com","greenleafwastaken@gmail.com","griffwong@icloud.com","harriskd17@gmail.com","hkchoi76@gmail.com","honeyyakkala@gmail.com","jackxiang99@gmail.com","janani.satish@gmail.com","jerryli.md@gmail.com","jjoh858@icloud.com","jpatel1206@gmail.com","kameron.lee1290@gmail.com","kancharlapranay@gmail.com","kawookieoradam@gmail.com","kedarrkalluri@gmail.com","kevinx8017@gmail.com","krishnagawandi6375@gmail.com","latikavikram@gmail.com","leonard.h.shi@gmail.com","mdganatra28@gmail.com","minc31415@gmail.com","moneyforidea@gmail.com","music80001@gmail.com","nayelr123@gmail.com","nicholas.kinberg@gmail.com","nporoshin14@icloud.com","omarkaziza@gmail.com","oosman2x@gmail.com","owen.hx.liu@gmail.com","patcdeng@gmail.com","prorepatir@gmail.com","quottzoeller@gmail.com","ravinsingh.us@gmail.com","rayshen314@gmail.com","reyatt30@gmail.com","sachdeva.aahan@gmail.com","sailfin2008@gmail.com","sarah.p.ngai@gmail.com","saurish.st@gmail.com","shahdhairya51@gmail.com","shresthamitramustaphy@gmail.com","shreyhaan0904@gmail.com","shrys.jain@gmail.com","sponsor@hackthenest.org","strayyy123@gmail.com","sunmayp@gmail.com","tadesseselamawit123@gmail.com","thapliyal.prakhar@gmail.com","umadesigan@gmail.com","vihananand2010@gmail.com","y25ufqadir@gmail.com"]

// ALL EMAILS
// const emails = ["10f7c7@gmail.com","1556316@fcpsschools.net","1597447@fcpsschools.net","1624538@fcpsschools.net","1631347@fcpsschools.net","1657709@fcpsschools.net","1662636@fcpsschools.net","1690786@fcpsschools.net","1693928@fcpsschools.net","1703182@fcpsschools.net","1772326@fcpsschools.net","1842513@fcpsschools.net","1906382@fcpsschools.net","1921386@fcpsschools.net","1woodsky@gmail.com","2025sghimire@tjhsst.edu","2027sjain@tjhsst.edu","aadit7508@gmail.com","aanya.malyala@gmail.com","aaron.aquarian10@gmail.com","aarush2225@gmail.com","aaryan.katoch1@gmail.com","aaryan.sultania@gmail.com","aayanch1984@gmail.com","adamthor14@gmail.com","adeloprof@gmail.com","adhyajay0@gmail.com","aditya3mohan@gmail.com","aidanbarbosa1@outlook.com","ajay.yadlapalli@gwmail.gwu.edu","ajboycemail@gmail.com","akhildeevi5@gmail.com","aklankcool@gmail.com","albertcao100@gmail.com","alex.lopatin01@gmail.com","allisonmandreyev@gmail.com","alyssa.la1777@gmail.com","amoghsati1@gmail.com","ams21218@gmail.com","amyebah.x@gmail.com","andradekate1776@gmail.com","andrew.mei953@gmail.com","andrewgao100@gmail.com","andrewhu32009@gmail.com","anfalhosen@gmail.com","anish.talla99@gmail.com","arinzeagwuna@gmail.com","arjunmbabla@gmail.com","ary.r.1103@gmail.com","aryan.sharma0714@gmail.com","ashvatt007@gmail.com","ashwathreddymuppa@gmail.com","atharvak2025@gmail.com","avanthika20544@gmail.com","averagehdip2020@gmail.com","ayushfallout@gmail.com","ayushrghosh@gmail.com","bansalagrim02@gmail.com","benehall009@gmail.com","benjaminkwon6@gmail.com","bhuvan2470@gmail.com","bishtshaurya314@gmail.com","bjedev@gmail.com","bobbyf8642@gmail.com","brandonwyu@gmail.com","brentanrath@gmail.com","byung806@gmail.com","capi_nemoo@protonmail.com","carsin.tudor@gmail.com","casey1357918@gmail.com","chat.arjunc@gmail.com","chithanh08dgs@gmail.com","chrischris0921@gmail.com","christopheraustin3088@gmail.com","cipirau@gmail.com","codyzgao@gmail.com","connorcourtney1101@gmail.com","cp173888@gmail.com","ctlepicgamer@gmail.com","d.shah@gwmail.gwu.edu","daniel.gao6205@gmail.com","daudhtm@gmail.com","davay.shiv@gmail.com","davayshiv@gmail.com","deeptipatil033@gmail.com","degreeaaron168@gmail.com","dev@big-edits.com","devnarang083@gmail.com","devon.s.parikh@gmail.com","diya.shakoor@student.bmhs.org","diyajr2008@gmail.com","ehsiao09@gmail.com","ekarim530@gmail.com","evan.n.brown25@gmail.com","ezanatibebe@gmail.com","ezhang1598@gmail.com","faithholmes07@gmail.com","faizanzaman116@gmail.com","fonseca.diego.feeshy@gmail.com","garry.peng2007@gmail.com","gautam.bade@gmail.com","gavrieltarmy@gmail.com","gayathri.ganesh.23.8@gmail.com","glebgodynskiy@gmail.com","goldenderpydude2.0@gmail.com","greyson.schroeher@gmail.com","griffwong@icloud.com","hamzayabdi@gmail.com","harriskd17@gmail.com","hello@hackthenest.org","heng@yeheng.org","hhhimesh.131@gmail.com","hkchoi76@gmail.com","honestlyeni@gmail.com","honeyyakkala@gmail.com","huange2007@gmail.com","iris.chakiath@gmail.com","isaac@jedfonner.com","jackxiang99@gmail.com","jacliu2007@gmail.com","jamesli3605@gmail.com","janani.satish@gmail.com","jerryli.md@gmail.com","jjoh858@icloud.com","jocelynewidjaja@gmail.com","jorksoj@gmail.com","josmo314@gmail.com","jpatel1206@gmail.com","juancruzsalinasyx2@gmail.com","juvechamps21@gmail.com","kameron.lee1290@gmail.com","kancharlapranay@gmail.com","katyblank97@gmail.com","kawookieoradam@gmail.com","kayla.blosser@proton.me","kedarrkalluri@gmail.com","kevinx8017@gmail.com","kompella.arun@gmail.com","krishnagawandi6375@gmail.com","latikavikram@gmail.com","leo.q.su@gmail.com","leochongtrakul@gmail.com","leonard.h.shi@gmail.com","lidekai2008@gmail.com","ltong4867@inst.hcpss.org","lucasjeong0627@gmail.com","lushanks15@gmail.com","lw4terps@gmail.com","maddiralanikhilr@gmail.com","mahirmajmudar@gmail.com","maracuchoamericano@gmail.com","markshi07@gmail.com","maximusadeola@gmail.com","maxwellwang84@gmail.com","mdganatra28@gmail.com","mdhocohoc@gmail.com","megat.1562@gmail.com","mehxplays@gmail.com","miladisprovalplayer@gmail.com","minc31415@gmail.com","mmaneet2007@gmail.com","mmishellemunkhbatt@gmail.com","mmunshi@montgomerycollege.edu","moneyforidea@gmail.com","mrtg22889@gmail.com","music80001@gmail.com","naciu161@gmail.com","nathanielgu2020@gmail.com","nathanjkim2007@gmail.com","nathanmqle@gmail.com","nayelr123@gmail.com","nchabanuatangcho@gmail.com","nehantkrazykat@gmail.com","nicholas.kinberg@gmail.com","nihal.jupalli09@gmail.com","nporoshin14@icloud.com","oboparaoji@gmail.com","ohead34@gmail.com","omarkaziza@gmail.com","oosman2x@gmail.com","owen.hx.liu@gmail.com","pantsbabyy@gmail.com","parktimothyjm@gmail.com","parthiv.maddipatla@gmail.com","patcdeng@gmail.com","prorepatir@gmail.com","quottzoeller@gmail.com","raihanhasan427@gmail.com","raniliu2007@gmail.com","rayshen071@gmail.com","rayshen314@gmail.com","rayzhang2021@gmail.com","renata.a.podlesny@gmail.com","reyatt30@gmail.com","rohansoma80@gmail.com","rohithathrey@gmail.com","sachdeva.aahan@gmail.com","saijayanthmittapalli@gmail.com","sailfin2008@gmail.com","sarah.p.ngai@gmail.com","sarahdiveb@gmail.com","sarvika2007@gmail.com","sashsarkisov@gmail.com","sathvik.tumpudi@gmail.com","saurish.st@gmail.com","savagematt101@gmail.com","shahdhairya51@gmail.com","shawnadedeji@gmail.com","shayaanwadkar@gmail.com","shehreen@gmail.com","shresthamitramustaphy@gmail.com","shreyajp20@gmail.com","shreyhaan0904@gmail.com","shritejmamidala@gmail.com","shrys.jain@gmail.com","shujiazhang07@gmail.com","sidhparikh@gmail.com","sjoab2010@gmail.com","smembley@gmail.com","songhanglin2@gmail.com","sponsor@hackthenest.org","strayyy123@gmail.com","sumuriddhi@gmail.com","sunmayp@gmail.com","svaran.medavarapu@gmail.com","tadesseselamawit123@gmail.com","thapliyal.prakhar@gmail.com","thomasli2025@gmail.com","tirumale.madhav@gmail.com","tmccormick1104@gmail.com","totoweird@gmail.com","tristan.carter66@gmail.com","tyler.jeong@gmail.com","umadesigan@gmail.com","vandan.ayyalapu@gmail.com","victorliu5000@gmail.com","vihananand2010@gmail.com","vikhyaath2@gmail.com","vincent.connor.ireland@gmail.com","vishnumaya16000@gmail.com","wallofant@gmail.com","wilburw2026@gmail.com","will45choi2006@gmail.com","wolverinekruz@gmail.com","wualtersamuel@gmail.com","y25ufqadir@gmail.com","yousafswim@gmail.com","zena.kishek@gmail.com","zjx20131141@gmail.com"]

// REGISTER NO RSVP
const emails = ['1597447@fcpsschools.net', '1657709@fcpsschools.net', '1693928@fcpsschools.net', '1842513@fcpsschools.net', '1woodsky@gmail.com', '2025sghimire@tjhsst.edu', 'aadit7508@gmail.com', 'aaryan.katoch1@gmail.com', 'adeloprof@gmail.com', 'aditya3mohan@gmail.com', 'allisonmandreyev@gmail.com', 'alyssa.la1777@gmail.com', 'amoghsati1@gmail.com', 'ams21218@gmail.com', 'anfalhosen@gmail.com', 'angieshen20@gmail.com', 'aravjaiman1@gmail.com', 'arjunmbabla@gmail.com', 'atharvak2025@gmail.com', 'avanthika20544@gmail.com', 'ayushfallout@gmail.com', 'ayushrghosh@gmail.com', 'bansalagrim02@gmail.com', 'benjamin.deadman@gmail.com', 'bishtshaurya314@gmail.com', 'bjedev@gmail.com', 'brandonwyu@gmail.com', 'brentanrath@gmail.com', 'casey1357918@gmail.com', 'chrischris0921@gmail.com', 'christopheraustin3088@gmail.com', 'cipirau@gmail.com', 'daniel.gao6205@gmail.com', 'daudhtm@gmail.com', 'davay.shiv@gmail.com', 'dev@big-edits.com', 'diyakotha09@gmail.com', 'ehsiao09@gmail.com', 'garry.peng2007@gmail.com', 'gautam.bade@gmail.com', 'gayathri.ganesh.23.8@gmail.com', 'glebgodynskiy@gmail.com', 'greenleafwastaken@gmail.com', 'greyson.schroeher@gmail.com', 'hello@hackthenest.org', 'heng@yeheng.org', 'hhhimesh.131@gmail.com', 'huange2007@gmail.com', 'iris.chakiath@gmail.com', 'isaac@jedfonner.com', 'jacliu2007@gmail.com', 'jamesli3605@gmail.com', 'juancruzsalinasyx2@gmail.com', 'katyblank97@gmail.com', 'kayla.blosser@proton.me', 'leo.q.su@gmail.com', 'leochongtrakul@gmail.com', 'lidekai2008@gmail.com', 'ltong4867@inst.hcpss.org', 'lucasjeong0627@gmail.com', 'lushanks15@gmail.com', 'maddiralanikhilr@gmail.com', 'mahirmajmudar@gmail.com', 'maxwellwang84@gmail.com', 'mdhocohoc@gmail.com', 'mehxplays@gmail.com', 'miladisprovalplayer@gmail.com', 'mmaneet2007@gmail.com', 'mmishellemunkhbatt@gmail.com', 'mmunshi@montgomerycollege.edu', 'nchabanuatangcho@gmail.com', 'nehantkrazykat@gmail.com', 'nihal.jupalli09@gmail.com', 'oboparaoji@gmail.com', 'ohead34@gmail.com', 'pantsbabyy@gmail.com', 'paragonice0@gmail.com', 'raniliu2007@gmail.com', 'renata.a.podlesny@gmail.com', 'saijayanthmittapalli@gmail.com', 'sarvika2007@gmail.com', 'sashsarkisov@gmail.com', 'savagematt101@gmail.com', 'shawnadedeji@gmail.com', 'shayaanwadkar@gmail.com', 'shehreen@gmail.com', 'shreyajp20@gmail.com', 'shritejmamidala@gmail.com', 'shujiazhang07@gmail.com', 'sidhparikh@gmail.com', 'sjoab2010@gmail.com', 'smembley@gmail.com', 'songhanglin2@gmail.com', 'sumuriddhi@gmail.com', 'thomasli2025@gmail.com', 'tmccormick1104@gmail.com', 'totoweird@gmail.com', 'tyler.jeong@gmail.com', 'vandan.ayyalapu@gmail.com', 'vincent.connor.ireland@gmail.com', 'vishnumaya16000@gmail.com', 'wilburw2026@gmail.com', 'wolverinekruz@gmail.com', 'yousafswim@gmail.com', 'zena.kishek@gmail.com']

console.log(process.env.POSTMARK_API_TOKEN)

const client = new ServerClient(process.env.POSTMARK_API_TOKEN);

// Transactional Test
// client.sendEmailWithTemplate({
//   From: "hello@hackthenest.org",
//   To: "thomasli2025@gmail.com",
//   TemplateAlias: "hackerConfirmation",
//   TemplateModel: {
//     name: "thomas",
//     email: "thomasli2025@gmail.com",
//   },
//   MessageStream: "outbound",
// }).then(response => {
//   console.log("Emails sent successfully:", response);
// }).catch(error => {
//   console.error("Error sending emails:", error);
// });
// return

// edit other routes to include name
client.sendEmailBatchWithTemplates(
  emails.map((email) => {
    return {
      From: "hello@hackthenest.org",
      To: email,
      TemplateAlias: "rsvpNotice",
      TemplateModel: {
        email,
      },
      TrackLinks: "None",
      MessageStream: "outbound",
    };
  })
).then(response => {
  console.log("Emails sent successfully:", response);
}).catch(error => {
  console.error("Error sending emails:", error);
});
